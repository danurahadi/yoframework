buildscript {
    ext {
        vertxVersion = '3.5.0'

        coroutineVersion = "0.20"

        logbackVersion = '1.2.3'
        logstashLogbackEncoderVersion = '4.11'

        commonsLangVersion = '3.4'
        commonsIOVersion = '2.5'
        commonCsvVersion = '1.4'
        commonsCodecVersion = '1.10'

        daggerVersion = '2.12'

        jacksonVersion = '2.9.1'

        morphiaVersion = '1.3.2'
        quartzVersion = "2.3.0"

        javaxElApiVersion = '2.2.4'
        javaxElVersion = '2.2.4'

        hibernateValidatorVersion = '5.3.3.Final'
        jBCryptVersion = '0.4.1'

        jUnitVersion = '4.12'

        restAssuredVersion = '3.0.3'

        embeddedMongoVersion = '2.0.0'

        pebbleVersion = '2.4.0'
    }

    repositories {
        mavenCentral()
        mavenCentral()
        jcenter()
    }

}

plugins {
    id "org.jetbrains.kotlin.jvm" version "1.2.0" apply false
    id "org.jetbrains.kotlin.kapt" version "1.2.0" apply false
}

subprojects {
    apply plugin: 'idea'
    apply plugin: 'org.jetbrains.kotlin.jvm'
    apply plugin: 'org.jetbrains.kotlin.kapt'

    repositories {
        mavenLocal()
        mavenCentral()
        jcenter()
    }

    kotlin {
        experimental {
            coroutines "enable"
        }
    }

    compileKotlin {
        sourceCompatibility = JavaVersion.VERSION_1_8
        targetCompatibility = JavaVersion.VERSION_1_8

        kotlinOptions {
            jvmTarget = "1.8"
            apiVersion = "1.2"
            languageVersion = "1.2"
            allWarningsAsErrors = true
        }
    }

    compileTestKotlin {
        sourceCompatibility = JavaVersion.VERSION_1_8
        targetCompatibility = JavaVersion.VERSION_1_8

        kotlinOptions {
            jvmTarget = "1.8"
            apiVersion = "1.2"
            languageVersion = "1.2"
            allWarningsAsErrors = true
        }
    }

    idea {
        module {
            testSourceDirs += file('build/generated/source/kapt/test')
            sourceDirs += file('build/generated/source/kapt/main')

            testSourceDirs += file('build/generated/source/kaptKotlin/test')
            sourceDirs += file('build/generated/source/kaptKotlin/main')
        }
    }

}

task wrapper(type: Wrapper) {
    gradleVersion = '4.4'
}
